!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((t||self).unsuspectedHangeul={})}(this,function(t){function n(){n=function(){return t};var t={},r=Object.prototype,e=r.hasOwnProperty,i=Object.defineProperty||function(t,n,r){t[n]=r.value},o="function"==typeof Symbol?Symbol:{},u=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(t,n,r){return Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[n]}try{s({},"")}catch(t){s=function(t,n,r){return t[n]=r}}function f(t,n,r,e){var o=Object.create((n&&n.prototype instanceof v?n:v).prototype),u=new P(e||[]);return i(o,"_invoke",{value:M(t,r,u)}),o}function h(t,n,r){try{return{type:"normal",arg:t.call(n,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var l={};function v(){}function m(){}function p(){}var w={};s(w,u,function(){return this});var d=Object.getPrototypeOf,y=d&&d(d(j([])));y&&y!==r&&e.call(y,u)&&(w=y);var g=p.prototype=v.prototype=Object.create(w);function b(t){["next","throw","return"].forEach(function(n){s(t,n,function(t){return this._invoke(n,t)})})}function N(t,n){function r(i,o,u,a){var c=h(t[i],t,o);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==typeof f&&e.call(f,"__await")?n.resolve(f.__await).then(function(t){r("next",t,u,a)},function(t){r("throw",t,u,a)}):n.resolve(f).then(function(t){s.value=t,u(s)},function(t){return r("throw",t,u,a)})}a(c.arg)}var o;i(this,"_invoke",{value:function(t,e){function i(){return new n(function(n,i){r(t,e,n,i)})}return o=o?o.then(i,i):i()}})}function M(t,n,r){var e="suspendedStart";return function(i,o){if("executing"===e)throw new Error("Generator is already running");if("completed"===e){if("throw"===i)throw o;return{value:void 0,done:!0}}for(r.method=i,r.arg=o;;){var u=r.delegate;if(u){var a=x(u,r);if(a){if(a===l)continue;return a}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===e)throw e="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);e="executing";var c=h(t,n,r);if("normal"===c.type){if(e=r.done?"completed":"suspendedYield",c.arg===l)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(e="completed",r.method="throw",r.arg=c.arg)}}}function x(t,n){var r=n.method,e=t.iterator[r];if(void 0===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=void 0,x(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),l;var i=h(e,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,l;var o=i.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,l):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,l)}function I(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function E(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(I,this),this.reset(!0)}function j(t){if(t){var n=t[u];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function n(){for(;++r<t.length;)if(e.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=void 0,n.done=!0,n};return i.next=i}}return{next:O}}function O(){return{value:void 0,done:!0}}return m.prototype=p,i(g,"constructor",{value:p,configurable:!0}),i(p,"constructor",{value:m,configurable:!0}),m.displayName=s(p,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===m||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,s(t,c,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(N.prototype),s(N.prototype,a,function(){return this}),t.AsyncIterator=N,t.async=function(n,r,e,i,o){void 0===o&&(o=Promise);var u=new N(f(n,r,e,i),o);return t.isGeneratorFunction(r)?u:u.next().then(function(t){return t.done?t.value:u.next()})},b(g),s(g,c,"Generator"),s(g,u,function(){return this}),s(g,"toString",function(){return"[object Generator]"}),t.keys=function(t){var n=Object(t),r=[];for(var e in n)r.push(e);return r.reverse(),function t(){for(;r.length;){var e=r.pop();if(e in n)return t.value=e,t.done=!1,t}return t.done=!0,t}},t.values=j,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var n in this)"t"===n.charAt(0)&&e.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(r,e){return u.type="throw",u.arg=t,n.next=r,e&&(n.method="next",n.arg=void 0),!!e}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],u=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var a=e.call(o,"catchLoc"),c=e.call(o,"finallyLoc");if(a&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,n){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&e.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=n&&n<=o.finallyLoc&&(o=null);var u=o?o.completion:{};return u.type=t,u.arg=n,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(u)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),l},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var e=r.completion;if("throw"===e.type){var i=e.arg;E(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:j(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function r(){return r=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(t[e]=r[e])}return t},r.apply(this,arguments)}function e(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,o(t,n)}function i(t){return i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},i(t)}function o(t,n){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},o(t,n)}function u(t,n,r){return u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}()?Reflect.construct.bind():function(t,n,r){var e=[null];e.push.apply(e,n);var i=new(Function.bind.apply(t,e));return r&&o(i,r.prototype),i},u.apply(null,arguments)}function a(t){var n="function"==typeof Map?new Map:void 0;return a=function(t){if(null===t||-1===Function.toString.call(t).indexOf("[native code]"))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(t))return n.get(t);n.set(t,r)}function r(){return u(t,arguments,i(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),o(r,t)},a(t)}function c(t,n){(null==n||n>t.length)&&(n=t.length);for(var r=0,e=new Array(n);r<n;r++)e[r]=t[r];return e}function s(t,n){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=function(t,n){if(t){if("string"==typeof t)return c(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(t,n):void 0}}(t))||n&&t&&"number"==typeof t.length){r&&(t=r);var e=0;return function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function h(t){var n={exports:{}};return t(n,n.exports),n.exports}var l=h(function(t){var n={};function r(t){return t.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]|[^\uD800-\uDFFF]/g)||[]}t.exports=n,n.eastAsianWidth=function(t){var n=t.charCodeAt(0),r=2==t.length?t.charCodeAt(1):0,e=n;return 55296<=n&&n<=56319&&56320<=r&&r<=57343&&(e=(n&=1023)<<10|(r&=1023),e+=65536),12288==e||65281<=e&&e<=65376||65504<=e&&e<=65510?"F":8361==e||65377<=e&&e<=65470||65474<=e&&e<=65479||65482<=e&&e<=65487||65490<=e&&e<=65495||65498<=e&&e<=65500||65512<=e&&e<=65518?"H":4352<=e&&e<=4447||4515<=e&&e<=4519||4602<=e&&e<=4607||9001<=e&&e<=9002||11904<=e&&e<=11929||11931<=e&&e<=12019||12032<=e&&e<=12245||12272<=e&&e<=12283||12289<=e&&e<=12350||12353<=e&&e<=12438||12441<=e&&e<=12543||12549<=e&&e<=12589||12593<=e&&e<=12686||12688<=e&&e<=12730||12736<=e&&e<=12771||12784<=e&&e<=12830||12832<=e&&e<=12871||12880<=e&&e<=13054||13056<=e&&e<=19903||19968<=e&&e<=42124||42128<=e&&e<=42182||43360<=e&&e<=43388||44032<=e&&e<=55203||55216<=e&&e<=55238||55243<=e&&e<=55291||63744<=e&&e<=64255||65040<=e&&e<=65049||65072<=e&&e<=65106||65108<=e&&e<=65126||65128<=e&&e<=65131||110592<=e&&e<=110593||127488<=e&&e<=127490||127504<=e&&e<=127546||127552<=e&&e<=127560||127568<=e&&e<=127569||131072<=e&&e<=194367||177984<=e&&e<=196605||196608<=e&&e<=262141?"W":32<=e&&e<=126||162<=e&&e<=163||165<=e&&e<=166||172==e||175==e||10214<=e&&e<=10221||10629<=e&&e<=10630?"Na":161==e||164==e||167<=e&&e<=168||170==e||173<=e&&e<=174||176<=e&&e<=180||182<=e&&e<=186||188<=e&&e<=191||198==e||208==e||215<=e&&e<=216||222<=e&&e<=225||230==e||232<=e&&e<=234||236<=e&&e<=237||240==e||242<=e&&e<=243||247<=e&&e<=250||252==e||254==e||257==e||273==e||275==e||283==e||294<=e&&e<=295||299==e||305<=e&&e<=307||312==e||319<=e&&e<=322||324==e||328<=e&&e<=331||333==e||338<=e&&e<=339||358<=e&&e<=359||363==e||462==e||464==e||466==e||468==e||470==e||472==e||474==e||476==e||593==e||609==e||708==e||711==e||713<=e&&e<=715||717==e||720==e||728<=e&&e<=731||733==e||735==e||768<=e&&e<=879||913<=e&&e<=929||931<=e&&e<=937||945<=e&&e<=961||963<=e&&e<=969||1025==e||1040<=e&&e<=1103||1105==e||8208==e||8211<=e&&e<=8214||8216<=e&&e<=8217||8220<=e&&e<=8221||8224<=e&&e<=8226||8228<=e&&e<=8231||8240==e||8242<=e&&e<=8243||8245==e||8251==e||8254==e||8308==e||8319==e||8321<=e&&e<=8324||8364==e||8451==e||8453==e||8457==e||8467==e||8470==e||8481<=e&&e<=8482||8486==e||8491==e||8531<=e&&e<=8532||8539<=e&&e<=8542||8544<=e&&e<=8555||8560<=e&&e<=8569||8585==e||8592<=e&&e<=8601||8632<=e&&e<=8633||8658==e||8660==e||8679==e||8704==e||8706<=e&&e<=8707||8711<=e&&e<=8712||8715==e||8719==e||8721==e||8725==e||8730==e||8733<=e&&e<=8736||8739==e||8741==e||8743<=e&&e<=8748||8750==e||8756<=e&&e<=8759||8764<=e&&e<=8765||8776==e||8780==e||8786==e||8800<=e&&e<=8801||8804<=e&&e<=8807||8810<=e&&e<=8811||8814<=e&&e<=8815||8834<=e&&e<=8835||8838<=e&&e<=8839||8853==e||8857==e||8869==e||8895==e||8978==e||9312<=e&&e<=9449||9451<=e&&e<=9547||9552<=e&&e<=9587||9600<=e&&e<=9615||9618<=e&&e<=9621||9632<=e&&e<=9633||9635<=e&&e<=9641||9650<=e&&e<=9651||9654<=e&&e<=9655||9660<=e&&e<=9661||9664<=e&&e<=9665||9670<=e&&e<=9672||9675==e||9678<=e&&e<=9681||9698<=e&&e<=9701||9711==e||9733<=e&&e<=9734||9737==e||9742<=e&&e<=9743||9748<=e&&e<=9749||9756==e||9758==e||9792==e||9794==e||9824<=e&&e<=9825||9827<=e&&e<=9829||9831<=e&&e<=9834||9836<=e&&e<=9837||9839==e||9886<=e&&e<=9887||9918<=e&&e<=9919||9924<=e&&e<=9933||9935<=e&&e<=9953||9955==e||9960<=e&&e<=9983||10045==e||10071==e||10102<=e&&e<=10111||11093<=e&&e<=11097||12872<=e&&e<=12879||57344<=e&&e<=63743||65024<=e&&e<=65039||65533==e||127232<=e&&e<=127242||127248<=e&&e<=127277||127280<=e&&e<=127337||127344<=e&&e<=127386||917760<=e&&e<=917999||983040<=e&&e<=1048573||1048576<=e&&e<=1114109?"A":"N"},n.characterLength=function(t){var n=this.eastAsianWidth(t);return"F"==n||"W"==n||"A"==n?2:1},n.length=function(t){for(var n=r(t),e=0,i=0;i<n.length;i++)e+=this.characterLength(n[i]);return e},n.slice=function(t,e,i){textLen=n.length(t),i=i||1,(e=e||0)<0&&(e=textLen+e),i<0&&(i=textLen+i);for(var o="",u=0,a=r(t),c=0;c<a.length;c++){var s=a[c],f=n.length(s);if(u>=e-(2==f?1:0)){if(!(u+f<=i))break;o+=s}u+=f}return o}}),v=h(function(t,n){!function(n){var r=Math.cosh||function(t){return Math.abs(t)<1e-9?1-t:.5*(Math.exp(t)+Math.exp(-t))},e=Math.sinh||function(t){return Math.abs(t)<1e-9?t:.5*(Math.exp(t)-Math.exp(-t))},i=function(){throw SyntaxError("Invalid Param")};function o(t,n){var r=Math.abs(t),e=Math.abs(n);return 0===t?Math.log(e):0===n?Math.log(r):r<3e3&&e<3e3?.5*Math.log(t*t+n*n):(t/=2,n/=2,.5*Math.log(t*t+n*n)+Math.LN2)}function u(t,n){if(!(this instanceof u))return new u(t,n);var r=function(t,n){var r={re:0,im:0};if(null==t)r.re=r.im=0;else if(void 0!==n)r.re=t,r.im=n;else switch(typeof t){case"object":if("im"in t&&"re"in t)r.re=t.re,r.im=t.im;else if("abs"in t&&"arg"in t){if(!Number.isFinite(t.abs)&&Number.isFinite(t.arg))return u.INFINITY;r.re=t.abs*Math.cos(t.arg),r.im=t.abs*Math.sin(t.arg)}else if("r"in t&&"phi"in t){if(!Number.isFinite(t.r)&&Number.isFinite(t.phi))return u.INFINITY;r.re=t.r*Math.cos(t.phi),r.im=t.r*Math.sin(t.phi)}else 2===t.length?(r.re=t[0],r.im=t[1]):i();break;case"string":r.im=r.re=0;var e=t.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),o=1,a=0;null===e&&i();for(var c=0;c<e.length;c++){var s=e[c];" "===s||"\t"===s||"\n"===s||("+"===s?o++:"-"===s?a++:"i"===s||"I"===s?(o+a===0&&i()," "===e[c+1]||isNaN(e[c+1])?r.im+=parseFloat((a%2?"-":"")+"1"):(r.im+=parseFloat((a%2?"-":"")+e[c+1]),c++),o=a=0):((o+a===0||isNaN(s))&&i(),"i"===e[c+1]||"I"===e[c+1]?(r.im+=parseFloat((a%2?"-":"")+s),c++):r.re+=parseFloat((a%2?"-":"")+s),o=a=0))}o+a>0&&i();break;case"number":r.im=0,r.re=t;break;default:i()}return r}(t,n);this.re=r.re,this.im=r.im}u.prototype={re:0,im:0,sign:function(){var t=this.abs();return new u(this.re/t,this.im/t)},add:function(t,n){var r=new u(t,n);return this.isInfinite()&&r.isInfinite()?u.NAN:this.isInfinite()||r.isInfinite()?u.INFINITY:new u(this.re+r.re,this.im+r.im)},sub:function(t,n){var r=new u(t,n);return this.isInfinite()&&r.isInfinite()?u.NAN:this.isInfinite()||r.isInfinite()?u.INFINITY:new u(this.re-r.re,this.im-r.im)},mul:function(t,n){var r=new u(t,n);return this.isInfinite()&&r.isZero()||this.isZero()&&r.isInfinite()?u.NAN:this.isInfinite()||r.isInfinite()?u.INFINITY:0===r.im&&0===this.im?new u(this.re*r.re,0):new u(this.re*r.re-this.im*r.im,this.re*r.im+this.im*r.re)},div:function(t,n){var r=new u(t,n);if(this.isZero()&&r.isZero()||this.isInfinite()&&r.isInfinite())return u.NAN;if(this.isInfinite()||r.isZero())return u.INFINITY;if(this.isZero()||r.isInfinite())return u.ZERO;t=this.re,n=this.im;var e,i,o=r.re,a=r.im;return 0===a?new u(t/o,n/o):Math.abs(o)<Math.abs(a)?new u((t*(i=o/a)+n)/(e=o*i+a),(n*i-t)/e):new u((t+n*(i=a/o))/(e=a*i+o),(n-t*i)/e)},pow:function(t,n){var r=new u(t,n);if(t=this.re,n=this.im,r.isZero())return u.ONE;if(0===r.im){if(0===n&&t>0)return new u(Math.pow(t,r.re),0);if(0===t)switch((r.re%4+4)%4){case 0:return new u(Math.pow(n,r.re),0);case 1:return new u(0,Math.pow(n,r.re));case 2:return new u(-Math.pow(n,r.re),0);case 3:return new u(0,-Math.pow(n,r.re))}}if(0===t&&0===n&&r.re>0&&r.im>=0)return u.ZERO;var e=Math.atan2(n,t),i=o(t,n);return t=Math.exp(r.re*i-r.im*e),n=r.im*i+r.re*e,new u(t*Math.cos(n),t*Math.sin(n))},sqrt:function(){var t,n,r=this.re,e=this.im,i=this.abs();if(r>=0){if(0===e)return new u(Math.sqrt(r),0);t=.5*Math.sqrt(2*(i+r))}else t=Math.abs(e)/Math.sqrt(2*(i-r));return n=r<=0?.5*Math.sqrt(2*(i-r)):Math.abs(e)/Math.sqrt(2*(i+r)),new u(t,e<0?-n:n)},exp:function(){var t=Math.exp(this.re);return new u(t*Math.cos(this.im),t*Math.sin(this.im))},expm1:function(){var t=this.re,n=this.im;return new u(Math.expm1(t)*Math.cos(n)+function(t){var n=Math.PI/4;if(-n>t||t>n)return Math.cos(t)-1;var r=t*t;return r*(r*(r*(r*(r*(r*(r*(r/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-.5)}(n),Math.exp(t)*Math.sin(n))},log:function(){var t=this.re,n=this.im;return new u(o(t,n),Math.atan2(n,t))},abs:function(){return t=this.re,n=this.im,r=Math.abs(t),e=Math.abs(n),r<3e3&&e<3e3?Math.sqrt(r*r+e*e):(r<e?(r=e,e=t/n):e=n/t,r*Math.sqrt(1+e*e));var t,n,r,e},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var t=this.re,n=this.im;return new u(Math.sin(t)*r(n),Math.cos(t)*e(n))},cos:function(){var t=this.re,n=this.im;return new u(Math.cos(t)*r(n),-Math.sin(t)*e(n))},tan:function(){var t=2*this.re,n=2*this.im,i=Math.cos(t)+r(n);return new u(Math.sin(t)/i,e(n)/i)},cot:function(){var t=2*this.re,n=2*this.im,i=Math.cos(t)-r(n);return new u(-Math.sin(t)/i,e(n)/i)},sec:function(){var t=this.re,n=this.im,i=.5*r(2*n)+.5*Math.cos(2*t);return new u(Math.cos(t)*r(n)/i,Math.sin(t)*e(n)/i)},csc:function(){var t=this.re,n=this.im,i=.5*r(2*n)-.5*Math.cos(2*t);return new u(Math.sin(t)*r(n)/i,-Math.cos(t)*e(n)/i)},asin:function(){var t=this.re,n=this.im,r=new u(n*n-t*t+1,-2*t*n).sqrt(),e=new u(r.re-n,r.im+t).log();return new u(e.im,-e.re)},acos:function(){var t=this.re,n=this.im,r=new u(n*n-t*t+1,-2*t*n).sqrt(),e=new u(r.re-n,r.im+t).log();return new u(Math.PI/2-e.im,e.re)},atan:function(){var t=this.re,n=this.im;if(0===t){if(1===n)return new u(0,Infinity);if(-1===n)return new u(0,-Infinity)}var r=t*t+(1-n)*(1-n),e=new u((1-n*n-t*t)/r,-2*t/r).log();return new u(-.5*e.im,.5*e.re)},acot:function(){var t=this.re,n=this.im;if(0===n)return new u(Math.atan2(1,t),0);var r=t*t+n*n;return 0!==r?new u(t/r,-n/r).atan():new u(0!==t?t/0:0,0!==n?-n/0:0).atan()},asec:function(){var t=this.re,n=this.im;if(0===t&&0===n)return new u(0,Infinity);var r=t*t+n*n;return 0!==r?new u(t/r,-n/r).acos():new u(0!==t?t/0:0,0!==n?-n/0:0).acos()},acsc:function(){var t=this.re,n=this.im;if(0===t&&0===n)return new u(Math.PI/2,Infinity);var r=t*t+n*n;return 0!==r?new u(t/r,-n/r).asin():new u(0!==t?t/0:0,0!==n?-n/0:0).asin()},sinh:function(){var t=this.re,n=this.im;return new u(e(t)*Math.cos(n),r(t)*Math.sin(n))},cosh:function(){var t=this.re,n=this.im;return new u(r(t)*Math.cos(n),e(t)*Math.sin(n))},tanh:function(){var t=2*this.re,n=2*this.im,i=r(t)+Math.cos(n);return new u(e(t)/i,Math.sin(n)/i)},coth:function(){var t=2*this.re,n=2*this.im,i=r(t)-Math.cos(n);return new u(e(t)/i,-Math.sin(n)/i)},csch:function(){var t=this.re,n=this.im,i=Math.cos(2*n)-r(2*t);return new u(-2*e(t)*Math.cos(n)/i,2*r(t)*Math.sin(n)/i)},sech:function(){var t=this.re,n=this.im,i=Math.cos(2*n)+r(2*t);return new u(2*r(t)*Math.cos(n)/i,-2*e(t)*Math.sin(n)/i)},asinh:function(){var t=this.im;this.im=-this.re,this.re=t;var n=this.asin();return this.re=-this.im,this.im=t,t=n.re,n.re=-n.im,n.im=t,n},acosh:function(){var t=this.acos();if(t.im<=0){var n=t.re;t.re=-t.im,t.im=n}else n=t.im,t.im=-t.re,t.re=n;return t},atanh:function(){var t=this.re,n=this.im,r=t>1&&0===n,e=1-t,i=1+t,a=e*e+n*n,c=0!==a?new u((i*e-n*n)/a,(n*e+i*n)/a):new u(-1!==t?t/0:0,0!==n?n/0:0),s=c.re;return c.re=o(c.re,c.im)/2,c.im=Math.atan2(c.im,s)/2,r&&(c.im=-c.im),c},acoth:function(){var t=this.re,n=this.im;if(0===t&&0===n)return new u(0,Math.PI/2);var r=t*t+n*n;return 0!==r?new u(t/r,-n/r).atanh():new u(0!==t?t/0:0,0!==n?-n/0:0).atanh()},acsch:function(){var t=this.re,n=this.im;if(0===n)return new u(0!==t?Math.log(t+Math.sqrt(t*t+1)):Infinity,0);var r=t*t+n*n;return 0!==r?new u(t/r,-n/r).asinh():new u(0!==t?t/0:0,0!==n?-n/0:0).asinh()},asech:function(){var t=this.re,n=this.im;if(this.isZero())return u.INFINITY;var r=t*t+n*n;return 0!==r?new u(t/r,-n/r).acosh():new u(0!==t?t/0:0,0!==n?-n/0:0).acosh()},inverse:function(){if(this.isZero())return u.INFINITY;if(this.isInfinite())return u.ZERO;var t=this.re,n=this.im,r=t*t+n*n;return new u(t/r,-n/r)},conjugate:function(){return new u(this.re,-this.im)},neg:function(){return new u(-this.re,-this.im)},ceil:function(t){return t=Math.pow(10,t||0),new u(Math.ceil(this.re*t)/t,Math.ceil(this.im*t)/t)},floor:function(t){return t=Math.pow(10,t||0),new u(Math.floor(this.re*t)/t,Math.floor(this.im*t)/t)},round:function(t){return t=Math.pow(10,t||0),new u(Math.round(this.re*t)/t,Math.round(this.im*t)/t)},equals:function(t,n){var r=new u(t,n);return Math.abs(r.re-this.re)<=u.EPSILON&&Math.abs(r.im-this.im)<=u.EPSILON},clone:function(){return new u(this.re,this.im)},toString:function(){var t=this.re,n=this.im,r="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(t)<u.EPSILON&&(t=0),Math.abs(n)<u.EPSILON&&(n=0),0===n?r+t:(0!==t?(r+=t,r+=" ",n<0?(n=-n,r+="-"):r+="+",r+=" "):n<0&&(n=-n,r+="-"),1!==n&&(r+=n),r+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return 0===this.im?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return 0===this.im&&0===this.re},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!(this.isNaN()||this.isFinite())}},u.ZERO=new u(0,0),u.ONE=new u(1,0),u.I=new u(0,1),u.PI=new u(Math.PI,0),u.E=new u(Math.E,0),u.INFINITY=new u(Infinity,Infinity),u.NAN=new u(NaN,NaN),u.EPSILON=1e-15,Object.defineProperty(u,"__esModule",{value:!0}),u.default=u,u.Complex=u,t.exports=u}()}),m=/*@__PURE__*/f(v);function p(t){var n="bigint"==typeof t?Number(t):t;return new m(n)}function w(t,n){void 0===n&&(n=10n);var r,e="0123456789abcdefghijklmnopqrstuvwxyz".slice(0,Number(n)),i=BigInt(n),o=1n;if("string"==typeof t){"+"===t[0]?t=t.slice(1):"-"===t[0]&&(o=-1n,t=t.slice(1));var u=(r=t.toLowerCase().split("").map(function(t){return e.indexOf(t)})).indexOf(-1);if(-1!==u)throw Error("다음 글자를 "+n+"진법 숫자로 해석할 수 없습니다: '"+t[u]+"'")}else r=t;for(var a=0n,c=0;c<r.length;c++)a*=i,a+=BigInt(r[c]);return a*o}function d(t){return"bigint"!=typeof t&&(t instanceof m?d(t.re)||d(t.im):!(isFinite(t)||isNaN(t)))}function y(t){return"bigint"==typeof t||Number.isInteger(t)}function g(t,n){return n instanceof m?t.re===n.re&&t.im===n.im:0===t.im&&("bigint"==typeof n?b(n,t.re):n===t.re)}function b(t,n){return y(n)&&t===BigInt(n)}function N(t,n){return t instanceof m?g(t,n):n instanceof m?g(n,t):"bigint"==typeof t?b(t,n):"bigint"==typeof n?b(n,t):t===n}function M(t,n,r,e){if(void 0===r&&(r=1e-9),void 0===e&&(e=1e-16),r<0||e<0)throw RangeError("Tolerances must be non-negative.");if(N(t,n))return!0;if(d(t)||d(n))return!1;var i="bigint"==typeof t?Number(t):t,o="bigint"==typeof n?Number(n):n,u=x(function(t,n){return"bigint"==typeof t&&"bigint"==typeof n?t-n:t instanceof m||n instanceof m?p(t).sub(p(n)):Number(t)-Number(n)}(i,o));return u<=r*x(o)||u<=r*x(i)||u<=e}function x(t){return"bigint"==typeof t?t>=0n?t:-t:t instanceof m?t.abs():Math.abs(t)}function I(t,n){return"bigint"==typeof t&&"bigint"==typeof n?t+n:t instanceof m||n instanceof m?function(t,n){return new m(t.re+n.re,t.im+n.im)}(p(t),p(n)):Number(t)+Number(n)}function E(t,n){return"bigint"==typeof t&&"bigint"==typeof n?t*n:t instanceof m||n instanceof m?function(t,n){return new m(t.re*n.re-t.im*n.im,t.re*n.im+t.im*n.re)}(p(t),p(n)):Number(t)*Number(n)}Math.trunc=Math.trunc||function(t){return isNaN(t)?NaN:t>0?Math.floor(t):Math.ceil(t)};var P=/*#__PURE__*/function(){function t(t,n,r,e,i){this.filename=void 0,this.line_no=void 0,this.start_col=void 0,this.end_col=void 0,this.line=void 0,this.str=void 0,this.filename=t,this.line_no=n,this.start_col=r,this.end_col=e,this.line=i}return t.prototype.toString=function(){return null==this.str&&(this.str=this.line+"\n"+" ".repeat(l.length(this.line.slice(0,this.start_col)))+"^".repeat(l.length(this.line.slice(this.start_col,this.end_col)))),this.str},t}(),j=function(t,n){this.metadata=void 0,this.value=void 0,this.metadata=t,this.value=n},O=function(t,n){this.metadata=void 0,this.rel=void 0,this.metadata=t,this.rel=n},F=function(t,n,r){this.metadata=void 0,this.relA=void 0,this.relF=void 0,this.metadata=t,this.relA=n,this.relF=r},A=function(t,n){this.metadata=void 0,this.body=void 0,this.metadata=t,this.body=n},_=function(t,n,r){this.metadata=void 0,this.fun=void 0,this.argv=void 0,this.metadata=t,this.fun=n,this.argv=r},L=function(t,n){this.funs=void 0,this.args=void 0,this.funs=t,this.args=n},k=/*#__PURE__*/function(t){function n(n){for(var r,e,i="",o=s(n.metadatas);!(e=o()).done;){var u=e.value;i+=u.filename+" "+(u.line_no+1)+"번줄 ",i+=u.start_col+1+"~"+(u.end_col+1)+"번째 글자:\n",i+=u.toString()+"\n"}return(r=t.call(this,i+"\n"+n.message)||this).err=void 0,r.err=n,r}return e(n,t),n}(/*#__PURE__*/a(Error)),S=/*#__PURE__*/function(){function t(){}return t.prototype.asKey=function(t){return this.format(t)},t}();function B(t){return isFinite(t)?t.toString():isNaN(t)?"nan":t>0?"inf":"-inf"}var U=/*#__PURE__*/function(t){function n(n){var r;return(r=t.call(this)||this).value=void 0,r.value=n,r}return e(n,t),n.prototype.format=function(t){return this.value.toString()},n}(S);U.typeName="정수";var T=/*#__PURE__*/function(t){function n(n){var r;return(r=t.call(this)||this).value=void 0,r.value=n,r}e(n,t);var r=n.prototype;return r.format=function(t){var n;return B(this.value)+(n=this.value,isFinite(n)&&M(n,Math.floor(n))?".0":"")},r.asKey=function(t){return B(this.value)},n}(S);T.typeName="실수";var C=/*#__PURE__*/function(t){function n(n){var r;return(r=t.call(this)||this).value=void 0,r.value=n,r}e(n,t);var r=n.prototype;return r.format=function(t){var n=this.value.re,r=this.value.im,e=B(n)+(r<0?"":"+");return(0===n?"":e)+(1==r?"":-1==r?"-":B(r))+"i"},r.asKey=function(t){return this.value.im?this.format(t):B(this.value.re)},n}(S);C.typeName="복소수";var K=/*#__PURE__*/function(t){function n(n){var r;return(r=t.call(this)||this).value=void 0,r.value=n,r}return e(n,t),n.prototype.format=function(t){return this.value?"True":"False"},n}(S);K.typeName="논릿값";var Z=/*#__PURE__*/function(t){function n(n){var r;return(r=t.call(this)||this).value=void 0,r.value=n,r}e(n,t);var r=n.prototype;return r.format=function(t){return"["+this.value.map(function(n){return t.strict(n).format(t)}).join(", ")+"]"},r.asKey=function(t){return"["+this.value.map(function(n){return t.strict(n).asKey(t)}).join(", ")+"]"},n}(S);Z.typeName="목록";var q=/*#__PURE__*/function(t){function n(n){var r;return(r=t.call(this)||this).str=void 0,r.value=void 0,r.str=n,r.value=Array.from(n),r}return e(n,t),n.prototype.format=function(t){return"'"+this.str+"'"},n}(S);q.typeName="문자열";var V=/*#__PURE__*/function(t){function n(n){var r;return(r=t.call(this)||this).value=void 0,r.str=void 0,r.value=n,r}e(n,t);var r=n.prototype;return r.formatByte=function(t){return"\\x"+("0"+t.toString(16).toUpperCase()).slice(-2)},r.format=function(t){if(!this.str){var n=Array.from(new Uint8Array(this.value)).map(this.formatByte);this.str="b'"+n.join("")+"'"}return this.str},n}(S);V.typeName="바이트열";var Y=/*#__PURE__*/function(t){function n(n){var r;return(r=t.call(this)||this).value=void 0,r._keys=void 0,r._values=void 0,r.value=n,r}e(n,t);var r=n.prototype;return r.keys=function(){return this._keys||(this._keys=Object.keys(this.value).sort()),this._keys},r.values=function(){var t=this;return this._values||(this._values=this.keys().map(function(n){return t.value[n]})),this._values},r.format=function(t){var n=this.values().map(function(n){return t.strict(n).format(t)});return"{"+this.keys().map(function(t,r){return t+": "+n[r]}).join(", ")+"}"},r.asKey=function(t){var n=this.values().map(function(n){return t.strict(n).asKey(t)});return"{"+this.keys().map(function(t,r){return t+": "+n[r]}).join(", ")+"}"},n}(S);Y.typeName="사전";var D=/*#__PURE__*/function(t){function n(n,r,e){var i;return(i=t.call(this)||this).inst=void 0,i.argv=void 0,i.continuation=void 0,i.inst=n,i.argv=r,i.continuation=e,i}e(n,t);var r=n.prototype;return r.format=function(t){var n=this.argv.map(function(n){return t.strict(n).format(t)}).join(", ");return"<드나듦 "+this.inst+": ["+n+"]>"},r.asKey=function(t){var n=this.argv.map(function(n){return t.strict(n).asKey(t)}).join(", ");return"<드나듦 "+this.inst+": ["+n+"]>"},n}(S);D.typeName="드나듦";var R=/*#__PURE__*/function(t){function n(){return t.call(this)||this}return e(n,t),n.prototype.format=function(t){return"Nil"},n}(S);R.typeName="빈값";var G=0,z=/*#__PURE__*/function(t){function n(n){var r;return void 0===n&&(n=""),(r=t.call(this)||this).id=void 0,r.str=void 0,r.id=G++,r.str="<"+n+"함수>",r}e(n,t);var r=n.prototype;return r.format=function(t){return this.str},r.asKey=function(t){return this.str.replace(">"," #"+this.id+">")},n}(S);z.typeName="함수";var W=/*#__PURE__*/function(t){function n(n,r){var e;return(e=t.call(this,"깊이 "+r.args.length+"에서 생성된 ")||this).body=void 0,e.env=void 0,e.body=n,e.env=r,e}return e(n,t),n.prototype.execute=function(t,n,r){var e=this.env.args.concat([r]),i=new L(this.env.funs,e);return new J(this.body,i,null)},n}(z),H=/*#__PURE__*/function(t){function n(n,r){var e;return(e=t.call(this)||this).module=void 0,e.module=n,e.str="<기본 제공 모듈 "+r+">",e}return e(n,t),n.prototype.execute=function(t,n,r){return this.module(t,n,r)},n}(z),$=/*#__PURE__*/function(t){function n(n,r,e){var i;return(i=t.call(this)||this).metadatas=void 0,i.message=void 0,i.value=void 0,i.metadatas=n,i.message=r,i.value=e,i}e(n,t);var r=n.prototype;return r.format=function(t){return"<예외: ["+this.value.map(function(n){return n.format(t)}).join(", ")+"]>"},r.asKey=function(t){return"<예외: ["+this.value.map(function(n){return n.asKey(t)}).join(", ")+"]>"},n}(S);$.typeName="예외";var J=function(t,n,r){this.expr=void 0,this.env=void 0,this.cache=void 0,this.expr=t,this.env=n,this.cache=r},Q=[U,T],X=[].concat(Q,[C]),tt=[Z,q,V],nt=[z,K,Y,C,$].concat(tt),rt="ㄱ|ㄱ|ㄴ|ㄷ|ㄷ|ㄹ|ㅁ|ㅂ|ㅂ|ㅅ|ㅅ| ㅇ|ㅈ|ㅈ|ㅈ|ㄱ|ㄷ|ㅂ| ㅎ|ㄴㄱ|ㄴ|ㄴㄷ|ㄴㅂ|ㄷㄱ|ㄹㄴ|ㄹ|ㄹ ㅎ|ㄹ|ㅁㅂ|ㅁ|ㅂㄱ|ㅂㄴ|ㅂㄷ|ㅂㅅ|ㅂㅅㄱ|ㅂㅅㄷ|ㅂㅅㅂ|ㅂㅅ|ㅂㅅㅈ|ㅂㅈ|ㅂㅈ|ㅂㄷ|ㅂㅂ|ㅂ|ㅂ|ㅅㄱ|ㅅㄴ|ㅅㄷ|ㅅㄹ|ㅅㅁ|ㅅㅂ|ㅅㅂㄱ|ㅅㅅ|ㅅ ㅇ|ㅅㅈ|ㅅㅈ|ㅅㄱ|ㅅㄷ|ㅅㅂ|ㅅ ㅎ|ㅅ|ㅅ|ㅅ|ㅅ|ㅅ| ㅇㄱ| ㅇㄷ| ㅇㅁ| ㅇㅂ| ㅇㅅ| ㅇㅅ| ㅇ| ㅇㅈ| ㅇㅈ| ㅇㄷ| ㅇㅂ| ㅇ|ㅈ ㅇ|ㅈ|ㅈ|ㅈ|ㅈ|ㅈㄱ|ㅈ ㅎ|ㅈ|ㅈ|ㅂㅂ|ㅂ| ㅎ| ㅎ|ㄱㄷ|ㄴㅅ|ㄴㅈ|ㄴ ㅎ|ㄷㄹ".split("|"),et="ㄱ|ㄱ|ㄱㅅ|ㄴ|ㄴㅈ|ㄴ ㅎ|ㄷ|ㄷ|ㄹ|ㄹㄱ|ㄹㅁ|ㄹㅂ|ㄹㅅ|ㄹㄷ|ㄹㅂ|ㄹ ㅎ|ㅁ|ㅂ|ㅂ|ㅂㅅ|ㅅ|ㅅ| ㅇ|ㅈ|ㅈ|ㅈ|ㄱ|ㄷ|ㅂ| ㅎ".split("|"),it="ㄴ|ㄴㄷ|ㄴㅅ|ㄴㅅ|ㄹㄱㅅ|ㄹㄷ|ㄹㅂㅅ|ㅁㅅ|ㅁ|ㅂㄱ|ㅂㄷ|ㅂㅅㄱ|ㅂㅅㄷ|ㅂㅈ|ㅂㄷ|ㅂ|ㅂ|ㅅㄱ|ㅅㄴ| ㅇ| ㅇ| ㅇㅅ| ㅇㅅ|ㅂ| ㅎ| ㅎ".split("|"),ot="ㄷㅁ|ㄷㅂ|ㄷㅅ|ㄷㅈ|ㄹㄱ|ㄹㄱ|ㄹㄷ|ㄹㄷ|ㄹㅁ|ㄹㅂ|ㄹㅂ|ㄹㅂ|ㄹㅅ|ㄹㅈ|ㄹㄱ|ㅁㄱ|ㅁㄷ|ㅁㅅ|ㅂㅅㄷ|ㅂㄱ|ㅂ ㅎ|ㅅㅂ| ㅇㄹ| ㅇ ㅎ|ㅈ ㅎ|ㄷ|ㅂ ㅎ| ㅎㅅ| ㅎ".split("|");function ut(t){if(1!==t.length)throw Error("[normalizeChar] Length of string should be 1, not "+t.length+": "+t);function n(n,r,e){void 0===e&&(e=1);var i=t.charCodeAt(0)-r.charCodeAt(0);return(i=Math.floor(i/e))>=0&&i<n.length?n[i]:""}return t>="ᄀ"&&t<="ᇿ"?n(rt,"ᄀ"):t>="〮"&&t<="〯"?"":t>="ㄱ"&&t<="ㅤ"?n(et,"ㄱ"):t>="ㅥ"&&t<="ㆎ"?n(it,"ㅥ"):t>="ꥠ"&&t<="ꥼ"?n(ot,"ꥠ"):t>="가"&&t<="힯"?n(rt,"가",588):t>="ힰ"&&t<="ퟆ"||t>="ퟋ"&&t<="ퟻ"?"":t>="ﾠ"&&t<="ﾾ"?n(et,"ﾡ"):"ￂￃￄￅￆￇￊￋￌￍￎￏￒￓￔￕￖￗￚￛￜ".indexOf(t)>=0?"":" "}function at(t){return t.split("").map(ut).join("").split(/( )/)}function ct(t){var n=t.split("").map(function(t){return"ㄱㄴㄷㄹㅁㅂㅅㅈ".indexOf(t)});if(-1!==n.indexOf(-1))throw SyntaxError("Argument "+t+" has an unsupported character");var r=BigInt("0o"+n.reverse().join(""));return t.length%2==0&&(r=-r),r}function st(t){var n=t<0,r=(t=t>=0?t:-t).toString(8).split("").reverse().map(function(t){return"ㄱㄴㄷㄹㅁㅂㅅㅈ"[+t]}).join("");return r.length%2==0!==n&&(r+="ㄱ"),r}function ft(t,n){var r=t[0],e=t[1];if(-1!==r.indexOf("ㅎ")){var i=r.slice(1);if(i){var o=Number(ct(i));if(o<0)throw new pt(e,"함수 호출 시 "+o+"개의 인수를 요구했습니다.");var u=n.pop();if(null==u)throw new pt(e,"호출할 함수가 없습니다.");if(0===o)n.push(new _(e,u,[]));else{var a=n.splice(-o,o);if(a.length<o)throw new pt(e,"함수 호출 시 "+o+"개의 인수를 요구했으나 표현식이 "+a.length+"개밖에 없습니다.");n.push(new _(e,u,a))}}else{var c=n.pop();if(null==c)throw new pt(e,"함수 몸통이 없습니다.");n.push(new A(e,c))}}else if(-1!==r.indexOf("ㅇ")){var s=r.slice(1);if(""!==s){var f=n.pop();if(null==f)throw new pt(e,"인수 참조 구문이 잘못되었습니다.");var h=Number(ct(s));n.push(new F(e,f,h))}else{var l=n.pop();if(null==l)throw new pt(e,"함수 참조 구문이 잘못되었습니다.");if(!(l instanceof j))throw new pt(e,"함수 참조 시에는 정수 리터럴만 허용됩니다.");n.push(new O(e,Number(l.value)))}}else n.push(new j(e,ct(r)))}function ht(t,n){for(var r,e=function(t,n){var r=n.split("\n").flatMap(function(n,r){return(n+"\n").split("").flatMap(function(e,i){return at(e).filter(function(t){return""!==t}).map(function(e){return[e,new P(t,r,i,i+1,n)]})})});if(0===r.length)return[];for(var e,i,o,u=[r[0]],a=s(r.slice(1));!(e=a()).done;){var c=e.value,f=c[0],h=c[1],l=u.pop();if(null==l)throw Error("Internal::tokenize::EMPTY_STACK");var v=l[0],m=l[1];" "===v&&" "===f?u.push([v,m]):" "!==v&&" "!==f?u.push([v+f,(i=m,o=h,new P(i.filename,i.line_no,i.start_col,o.end_col,i.line))]):(u.push([v,m]),u.push([f,h]))}return u.filter(function(t){return" "!==t[0]})}(t,n),i=[],o=s(e);!(r=o()).done;)ft(r.value,i);return i}var lt=/*#__PURE__*/function(t){function n(n,r,e){var i=[ct("ㅂ")].concat(e).map(function(t){return new U(t)}),o=new $([n],r,i);return t.call(this,o)||this}return e(n,t),n}(k),vt=/*#__PURE__*/function(t){function n(n,r){var e=ct("ㅈㅈ");return t.call(this,n,r,[e])||this}return e(n,t),n}(lt),mt=/*#__PURE__*/function(t){function n(n,r){var e=ct("ㅅㅅ");return t.call(this,n,r,[e])||this}return e(n,t),n}(lt),pt=/*#__PURE__*/function(t){function n(n,r){var e=ct("ㅁㅂ");return t.call(this,n,r,[e])||this}return e(n,t),n}(lt),wt=/*#__PURE__*/function(t){function n(n,r){var e=ct("ㄱ");return t.call(this,n,r,[e])||this}return e(n,t),n}(lt),dt=/*#__PURE__*/function(t){function n(n,r){var e=ct("ㅈㅁ");return t.call(this,n,r,[e])||this}return e(n,t),n}(lt),yt=/*#__PURE__*/function(t){function n(n,r){var e=ct("ㄴㄴ");return t.call(this,n,r,[e])||this}return e(n,t),n}(lt),gt=/*#__PURE__*/function(t){function n(n,r){var e=ct("ㅁㅈ");return t.call(this,n,r,[e])||this}return e(n,t),n}(lt),bt=/*#__PURE__*/function(t){function n(n,r){var e=ct("ㅂ");return t.call(this,n,r,[e])||this}return e(n,t),n}(lt),Nt=/*#__PURE__*/function(t){function n(n,r){var e=ct("ㅂㄱ");return t.call(this,n,r,[e])||this}return e(n,t),n}(lt);function Mt(t){return t instanceof J&&t.expr instanceof j}function xt(t){return t.value}function It(t){var n=t.map(function(t){return t.byteLength}).reduce(function(t,n){return t+n},0),r=new ArrayBuffer(n),e=new Uint8Array(r);return t.reduce(function(t,n){return e.set(new Uint8Array(n),t),t+n.byteLength},0),r}function Et(t,n){var r=n(t);if(r instanceof Z)return new Z(r.value.map(function(t){return Et(t,n)}));if(r instanceof Y){var e=r.value,i={};return Object.keys(e).forEach(function(t){i[t]=Et(e[t],n)}),new Y(i)}return r instanceof $?new $(r.metadatas,r.message,r.value.map(function(t){return Et(t,n)})):r}function Pt(t){return 0===t.length||t.every(function(n){return n===t[0]})}function jt(t,n){return t.every(function(t){return n.some(function(n){return t instanceof n})})}function Ot(t,n){return void 0===n&&(n=", "),t.join(n)}function Ft(t,n,r){if(jt(n,r))return n;var e=r.map(function(t){return t.typeName}),i=n.map(function(t){return t.constructor.typeName});throw new wt(t,"인수를 "+Ot(e)+" 중에서 주어야 하는데 "+function(t,n,r){if(0===t.length)return t+"을";var e=t.charCodeAt(t.length-1);return e<44032||e>55203?t+"을":t+((e-44032)%28!=0?"을":"를")}(Ot(i))+" 주었습니다.")}function At(t,n,r){var e=Array.isArray(r)?r:[r];if(-1===e.indexOf(n.length))throw new dt(t,"인수를 "+Ot(e.map(function(t){return t.toString()}),"개나 ")+"개를 주어야 하는데 "+n.length+"개의 인수를 주었습니다.")}function _t(t,n,r){if(!(n.length>=r))throw new dt(t,"인수를 "+r+"개 이상 주어야 하는데"+n.length+"개 주었습니다.")}function Lt(t,n,r){if(!(n.length<=r))throw new dt(t,"인수를 "+r+"개 이하 주어야 하는데"+n.length+"개 주었습니다.")}function kt(t,n,r,e){return void 0===e&&(e=[]),Lt(t,n,r),_t(t,n,r-e.length),n.length<r&&(n=n.concat(e.slice(-(r-n.length)))),n}function St(t){return"bigint"==typeof t?new U(t):t instanceof m?new C(t):new T(t)}var Bt={"ㄱ":function(t,n,r){if(_t(n,r,1),jt(Ft(n,[t.strict(r[0])],[K].concat(X)),X))return St(Ft(n,r.map(function(n){return t.strict(n)}),X).map(function(t){return t.value}).reduce(E));for(var e,i=s(r);!(e=i()).done;)if(!Ft(n,[t.strict(e.value)],[K])[0].value)return new K(!1);return new K(!0)},"ㄷ":function(t,n,r){_t(n,r,1);var e=Ft(n,[t.strict(r[0])],[K,Y].concat(X,tt));if(jt(e,[K])){for(var i,o=s(r);!(i=o()).done;)if(Ft(n,[t.strict(i.value)],[K])[0].value)return new K(!0);return new K(!1)}if(jt(e,[q])){var u=Ft(n,r.map(function(n){return t.strict(n)}),[q]);return new q(u.map(function(t){return t.str}).join(""))}if(jt(e,[V])){var a=Ft(n,r.map(function(n){return t.strict(n)}),[V]);return new V(It(a.map(xt)))}if(jt(e,[Z])){var c=Ft(n,r.map(function(n){return t.strict(n)}),[Z]);return new Z(c.map(xt).reduce(function(t,n){return t.concat(n)}))}if(jt(e,[Y])){var f=Ft(n,r.map(function(n){return t.strict(n)}),[Y]),h={};return f.map(xt).forEach(function(t){return Object.assign(h,t)}),new Y(h)}return St(Ft(n,r.map(function(n){return t.strict(n)}),X).map(function(t){return t.value}).reduce(I))},"ㅅ":function(t,n,r){At(n,r,[2,3]);var e=Ft(n,r.map(function(n){return t.strict(n)}),X);if(3===e.length){var i=Ft(n,e,[U]),o=i[0],u=i[1],a=i[2];try{return new U(function(t,n,r){if(0n===r)throw Error("0을 법으로 할 수 없습니다.");t%=r;var e=1n;for(n<0n&&(n=-n,t=function(t,n){var r=function(t,n){for(var r=0n,e=1n,i=1n,o=0n;0n!==t;){var u=n/t,a=[n%t,t];t=a[0],n=a[1];var c=[o,i-u*o];i=c[0],o=c[1];var s=[e,r-u*e];r=s[0],e=s[1]}return[n,r,i]}(t%n,n);if(1n===r[0])return(r[1]+n)%n;throw Error("법 "+n+"에 대한 "+t+"의 역원이 없습니다.")}(t,r));n>0n;){if(0n===t)return 0n;n%2n===1n&&(e=e*t%r),n/=2n,t=Math.pow(t,2n)%r}return e}(o.value,u.value,a.value))}catch(t){if(t instanceof Error)throw new mt(n,t.message);throw t}}At(n,e,2);try{return St(function(t,n){if("bigint"==typeof t&&"bigint"==typeof n&&n>=0)return Math.pow(t,n);var r,e="bigint"==typeof(r=n)||"number"==typeof r?r:M(r.im,0)?r.re:r;if(!(e instanceof m)&&e<0&&N(t,0))throw Error("0의 역수를 구하려고 했습니다.");return t instanceof m||n instanceof m||t<0&&!y(n)?p(t).pow(p(n)):1===Number(t)?1:Math.pow(Number(t),Number(n))}(e[0].value,e[1].value))}catch(t){if(t instanceof Error)throw new yt(n,t.message);throw t}},"ㄴㄴ":function(t,n,r){At(n,r,2);var e=Ft(n,r.map(function(n){return t.strict(n)}),Q);try{return St(function(t,n){if(0===Number(n))throw Error("0으로 나눌 수 없습니다.");return"bigint"==typeof t&&"bigint"==typeof n?t/n:Math.trunc(Number(t)/Number(n))}(e[0].value,e[1].value))}catch(t){if(t instanceof Error)throw new yt(n,"0의 역수를 구하려고 했습니다.");throw t}},"ㄴㅁ":function(t,n,r){At(n,r,2);var e=Ft(n,r.map(function(n){return t.strict(n)}),Q);try{return St(function(t,n){if(0===Number(n))throw Error("0으로 나눌 수 없습니다.");return"bigint"==typeof t&&"bigint"==typeof n?t%n:Number(t)%Number(n)}(e[0].value,e[1].value))}catch(t){if(t instanceof Error)throw new yt(n,"0의 역수를 구하려고 했습니다.");throw t}}};function Ut(t,n){var r=kt(t,n,2,[new U(10n)]),e=Ft(t,[r[0]],[q])[0],i=Ft(t,[r[1]],[U]);return[e.str,Number(i[0].value)]}var Tt={"ㅅㅈ":function(t,n,r){var e=r.length;if(e%2==1)throw new dt(n,"ㅅㅈ 함수에는 인수를 짝수 개로 주어야 하는데 "+e+"개를 주었습니다.");for(var i=r.filter(function(t,n){return n%2==0}),o=r.filter(function(t,n){return n%2==1}),u=i.map(function(n){return t.strict(n).asKey(t)}),a={},c=0;c<e/2;c++)a[u[c]]=o[c];return new Y(a)},"ㅁㄹ":function(t,n,r){return new Z(r)},"ㅁㅈ":function(t,n,r){if(At(n,r,[0,1]),0===r.length)return new q("");var e=Ft(n,[t.strict(r[0])],[q].concat(X))[0];return e instanceof q?e:new q(e.format(t))},"ㅈㅅ":function(t,n,r){At(n,r,[1,2]);var e=Ft(n,r.map(function(n){return t.strict(n)}),[q].concat(Q)),i=[e[0]];if(jt(i,Q)){if(At(n,e,1),i[0]instanceof U)return i[0];var o=Math.trunc(i[0].value);return new U(BigInt(o))}var u=Ut(n,e),a=u[0],c=u[1];try{return new U(w(a,c))}catch(t){if(t instanceof Error)throw new dt(n,t.message);throw t}},"ㅅㅅ":function(t,n,r){At(n,r,[1,2]);var e=Ft(n,r.map(function(n){return t.strict(n)}),[q].concat(Q)),i=[e[0]];if(jt(i,Q))return At(n,e,1),new T(Number(i[0].value));var o=Ut(n,e),u=o[0],a=o[1];if(10===a){var c=Number(u);if(isNaN(c))throw new dt(n,"다음 문자열을 실수값으로 변환할 수 없습니다: '"+u+"'");return new T(c)}var s=u.trim().split("."),f=s.join("");"+"===f[0]&&(f=f.slice(1));try{var h=Number(w(f,a));return new T(h/Math.pow(a,s.length>1?s[1].length:0))}catch(t){throw new dt(n,"다음 문자열을 실수값으로 변환할 수 없습니다: '"+u+"'")}},"ㅂㅅ":function(t,n,r){At(n,r,[1,2]);var e=Ft(n,r.map(function(n){return t.strict(n)}),[q].concat(X));if(1===r.length){var i=e[0]instanceof q?e[0].str:e[0].value;try{return new C(p(i))}catch(t){if(t instanceof Error)throw new dt(n,"다음 문자열을 복소수값으로 변환할 수 없습니다: "+i);throw t}}var o=Ft(n,e,X).map(function(t){return p(t.value)});return new C(m({re:o[0].re-o[1].im,im:o[0].im+o[1].re}))},"ㅂㄱ":function(t,n,r){return At(n,r,0),new R},"ㄷㅂ":function(t,n,r){var e=r.map(function(n){return t.strict(n)}),i="사용자 예외: "+e.map(function(n){return n.format(t)});return new $([n],i,e)}},Ct={"ㄷㅈ":function(t,n,r){At(n,r,1);var e=Ft(n,r.map(function(n){return t.strict(n)}),[$]);throw new k(e[0])},"ㅅㄷ":function(t,n,r){At(n,r,2);try{return Et(r[0],function(n){return t.strict(n)})}catch(e){if(e instanceof k)return t.procFunctional(n,r[1])(t,n,[e.err]);throw e}}},Kt=/*#__PURE__*/function(t){function n(n){var r;return(r=t.call(this,"연결된 ")||this).funs=void 0,r.funs=n,r}return e(n,t),n.prototype.execute=function(t,n,r){return this.funs.reduce(function(r,e){return[e(t,n,r)]},r)[0]},n}(z),Zt=/*#__PURE__*/function(t){function n(n,r){var e;return(e=t.call(this,"모아 받는 ")||this).context=void 0,e.fn=void 0,e.context=n,e.fn=r,e}return e(n,t),n.prototype.execute=function(t,n,r){At(n,r,1);var e=Ft(n,[this.context.strict(r[0])],[Z,$]);return this.fn(t,n,e[0].value)},n}(z),qt=/*#__PURE__*/function(t){function n(n){var r;return(r=t.call(this,"펼쳐 받는 ")||this).fn=void 0,r.fn=n,r}return e(n,t),n.prototype.execute=function(t,n,r){return this.fn(t,n,[new Z(r)])},n}(z);function Vt(t,n){return function(r){return t.procFunctional(n,r,!0)}}var Yt={"ㄴㄱ":function(t,n,r){return new Kt(r.map(Vt(t,n)))},"ㅁㅂ":function(t,n,r){return At(n,r,1),new Zt(t,Vt(t,n)(r[0]))},"ㅂㅂ":function(t,n,r){return At(n,r,1),new qt(Vt(t,n)(r[0]))}};function Dt(t,n){try{var r=t()}catch(t){return n(t)}return r&&r.then?r.then(void 0,n):r}var Rt={"ㄹ":"r","ㅈㄹ":"w","ㅈㄱ":"a","ㄹㅈㄹ":"r+","ㅈㄹㄹ":"w+","ㅈㄱㄹ":"a+"},Gt=/*#__PURE__*/function(t){function n(n){var r;return(r=t.call(this,"파일 접근 ")||this).file=void 0,r.file=n,r}e(n,t);var r=n.prototype;return r.execute=function(t,n,r){_t(n,r,1);var e=st(Ft(n,r.slice(-1).map(function(n){return t.strict(n)}),[U])[0].value);if("ㄷ"===e)return this.close(t,n,r);if("ㄹ"===e)return this.read(t,n,r);if("ㅈㄹ"===e)return this.write(t,n,r);if("ㅈ"===e)return this.seekOrTell(t,n,r);if("ㄱ"===e)return this.truncate(t,n,r);throw new dt(n,e+"은 파일 객체가 인식하지 못하는 명령입니다.")},r.close=function(t,n,r){var e=this;return At(n,r,1),new D("FileV::close",[this],function(t,r){try{try{return e.file.close(),Promise.resolve(new R)}catch(t){throw new vt(n,"파일 닫기에 실패하였습니다: "+t)}}catch(t){return Promise.reject(t)}})},r.read=function(t,n,r){var e=this;At(n,r,2);var i=Ft(n,[t.strict(r[0])],[U])[0];return new D("FileV::read",[this,i],function(t,r){try{return Promise.resolve(Dt(function(){return Promise.resolve(e.file.read(Number(i.value))).then(function(t){return new V(t)})},function(t){throw new vt(n,"파일 읽기에 실패하였습니다: "+t)}))}catch(t){return Promise.reject(t)}})},r.write=function(t,n,r){var e=this;At(n,r,2);var i=Ft(n,[t.strict(r[0])],[V])[0];return new D("FileV::write",[this,i],function(t,r){try{try{var o=e.file.write(i.value);return Promise.resolve(new U(BigInt(o)))}catch(t){throw new vt(n,"파일 쓰기에 실패하였습니다: "+t)}}catch(t){return Promise.reject(t)}})},r.seekOrTell=function(t,n,r){var e=this,i=this;Lt(n,r,3);var o=r.map(function(n){return t.strict(n)});if(1===r.length)return new D("FileV::seekOrTell",[this],function(t,r){try{try{return Promise.resolve(new U(BigInt(e.file.tell())))}catch(t){throw new vt(n,"파일의 어디를 읽고 있는지 알아내는 데 실패하였습니다: "+t)}}catch(t){return Promise.reject(t)}});var u,a="SEEK_SET";if(2===r.length){var c=Ft(n,[o[0]],[U]);u=c[0]}else{var s=Ft(n,[o[1]],[U]);u=s[0];var f=Ft(n,[o[0]],[U])[0];switch(st(f.value)){case"ㅅㅈㅂㄷ":a="SEEK_SET";break;case"ㅈㄱㅂㄷ":a="SEEK_CUR";break;default:throw new dt(n,"파일 객체의 ㅈ 명령에 주는 위치 인수로 "+f.value+"은 적절하지 않습니다.")}}return new D("FileV::seekOrTell",[this].concat(o.slice(0,-1)),function(t,r){try{try{var e=i.file.seek(Number(u.value),a);return Promise.resolve(new U(BigInt(e)))}catch(t){throw new vt(n,"파일의 읽는 위치를 수정하는 데 실패하였습니다: "+t)}}catch(t){return Promise.reject(t)}})},r.truncate=function(t,n,r){var e=this;Lt(n,r,2);var i=Ft(n,r.map(function(n){return t.strict(n)}),[U]),o=i.length>1?Number(i[0].value):void 0;return new D("FileV::truncate",[this].concat(i.slice(0,-1)),function(t,r){try{try{var i=e.file.truncate(o);return Promise.resolve(new U(BigInt(i)))}catch(t){throw new vt(n,"파일 크기를 재조정하는 데 실패하였습니다: "+t)}}catch(t){return Promise.reject(t)}})},n}(z),zt={"ㄹ":function(t,n,r){return At(n,r,0),new D("ㄹ",r,function(t,n){try{return Promise.resolve(n.input()).then(function(t){return null==t?new R:new q(t)})}catch(t){return Promise.reject(t)}})},"ㅈㄹ":function(t,n,r){At(n,r,1);var e=Ft(n,r.map(function(n){return t.strict(n)}),[q]);return new D("ㅈㄹ",e,function(t,n){try{return n.print(e[0].str),Promise.resolve(new R)}catch(t){return Promise.reject(t)}})},"ㄱㅅ":function(t,n,r){At(n,r,1);var e=Et(r[0],function(n){return t.strict(n)});return new D("ㄱㅅ",[e],function(t,n){return Promise.resolve(e)})},"ㄱㄹ":function(t,n,r){At(n,r,[2,3]);var e=Ft(n,[t.strict(r[0])],[D])[0];return new D("ㄱㄹ",r,function(i,o){try{var u,a,c=function(e){if(u)return e;var i=t.procFunctional(n,r[1])(t,n,[a]);return Ft(n,[t.strict(i)],[D])[0]},s=Dt(function(){return Promise.resolve(i(e)).then(function(t){a=t})},function(e){if(e instanceof k){if(r.length<3)throw e;var i=t.procFunctional(n,r[2])(t,n,[e.err]),o=Ft(n,[t.strict(i)],[D]);return u=1,o[0]}throw e});return Promise.resolve(s&&s.then?s.then(c):c(s))}catch(t){return Promise.reject(t)}})},"ㄱㄴ":function(t,n,r){At(n,r,2);var e=Ft(n,[t.strict(r[0])],[U,q])[0],i=e instanceof U?Number(e.value):e.str,o=Ft(n,[t.strict(r[1])],[U])[0],u=st(o.value);if(!(u in Rt))throw new dt(n,u+"은 기본 제공 함수 ㄱㄴ이 이해하는 파일 열기 방식이 아닙니다.");var a=Rt[u];return new D("ㄱㄴ",[e,o],function(r,e){try{try{return Promise.resolve(new Gt(t.loadUtils.open(i,a)))}catch(t){throw new vt(n,"파일 열기에 실패하였습니다: "+t)}}catch(t){return Promise.reject(t)}})}};function Wt(t,n){if(0===n.length)return!0;if(!Pt(n.map(function(t){return t.length})))return!1;for(var r=n[0].length,e=0;e<r;e++)if(!Ht(t,n.map(function(t){return t[e]})).value)return!1;return!0}function Ht(t,n){var r,e=n.map(function(n){return t.strict(n)});return jt(e,[z])?new K(Pt(e)):jt(e,[Y])?new K(function(t,n){if(0===n.length)return!0;var r=n.map(function(t){return t.keys()});return!!Wt(t,r.map(function(t){return t.map(function(t){return new q(t)})}))&&r[0].map(function(t){return n.map(function(n){return n.value[t]})}).map(function(n){return Ht(t,n)}).every(xt)}(t,e)):jt(e,[D])?Pt(e.map(function(t){return t.inst}))?new K(Wt(t,e.map(function(t){return t.argv}))):new K(!1):jt(e,X)?new K(0===(r=e.map(function(t){return t.value})).length||r.slice(1).every(function(t){return N(t,r[0])})):jt(e,[Z,$])?new K(Wt(t,e.map(xt))):jt(e,[V])?new K(function(t){if(0===t.length)return!0;if(!Pt(t.map(function(t){return t.byteLength})))return!1;for(var n=t[0].byteLength,r=t.map(function(t){return new Uint8Array(t)}),e=function(t){if(!Pt(r.map(function(n){return n[t]})))return{v:!1}},i=0;i<n;i++){var o=e(i);if("object"==typeof o)return o.v}return!0}(e.map(xt))):jt(e,[q])?new K(Pt(e.map(function(t){return t.str}))):jt(e,[K])?new K(Pt(e.map(xt))):jt(e,[R])?new K(!0):new K(!1)}var $t={"ㄴ":function(t,n,r){return Ht(t,r)},"ㅁ":function(t,n,r){At(n,r,1);var e=Ft(n,r.map(function(n){return t.strict(n)}),[K]);return new K(!e[0].value)},"ㅈ":function(t,n,r){At(n,r,2);var e=Ft(n,r.map(function(n){return t.strict(n)}),Q);return new K(e[0].value<e[1].value)},"ㅈㅈ":function(t,n,r){return At(n,r,0),new K(!0)},"ㄱㅈ":function(t,n,r){return At(n,r,0),new K(!1)}};function Jt(t,n){return function(r,e,i){At(e,i,n);var o=Ft(e,i.map(function(t){return r.strict(t)}),[U]);return new U(t.apply(void 0,o.map(xt)))}}var Qt={"ㅂㄷ":{"ㄱ":Jt(function(t,n){return t&n},2),"ㄷ":Jt(function(t,n){return t|n},2),"ㅁ":Jt(function(t){return~t},1),"ㅂ":Jt(function(t,n){return t^n},2),"ㅈ":Jt(function(t,n){return t<<n},2)}},Xt=["utf","unsigned","signed","float"],tn=/*#__PURE__*/function(t){function n(n,r,e,i){var o;(o=t.call(this)||this).scheme=void 0,o.numBytes=void 0,o.bigEndian=void 0,o.endianness=void 0,o.codec=void 0;var u=Ft(n,[r,e],[U]),a=u[1];if(o.scheme=Xt[Number(u[0].value)],o.numBytes=Number(a.value),o.endianness="",i){var c=Ft(n,[i],[K]);o.bigEndian=c[0].value,o.endianness=o.bigEndian?"big":"little"}return o.codec=o.getCodec(),o.str="<Codec(scheme="+o.scheme+", num_bytes="+o.numBytes+", big_endian="+o.bigEndian+")>",o}e(n,t);var r=n.prototype;return r.execute=function(t,n,r){var e=r.map(function(n){return t.strict(n)});try{return this.codec(t,n,e)}catch(t){if(t instanceof k)throw t;throw new dt(n,"요청된 변환을 수행하지 못했습니다. 변환기: "+this.str+", 인수: "+e)}},r.getCodec=function(){switch(this.scheme){case"utf":return this.unicodeCodec;case"signed":case"unsigned":return this.integerCodec;case"float":return this.floatingPointCodec}},r.unicodeCodec=function(t,n,r){At(n,r,1);var e=Ft(n,r.map(function(n){return t.strict(n)}),[q,V])[0];if(e instanceof q){if(1===this.numBytes){var i=new TextEncoder;return new V(i.encode(e.str).buffer)}var o;if(2===this.numBytes)o=e.str.split("").map(function(t){return t.charCodeAt(0)});else{if(4!==this.numBytes)throw new dt(n,"UTF-"+8*this.numBytes+" 형식은 존재하지 않습니다.");o=e.value.map(function(t){return t.codePointAt(0)}).filter(function(t){return null!=t})}""===this.endianness&&o.unshift(65279);var u=new ArrayBuffer(o.length*this.numBytes);return function(t,n,r,e){var i={1:t.setUint8.bind(t),2:t.setUint16.bind(t),4:t.setUint32.bind(t)}[r];if(null==i)throw Error();for(var o=0;o<n.length;o++)i(o*r,n[o],!e)}(new DataView(u),o,this.numBytes,this.bigEndian),new V(u)}var a,c=e.value;if(1===this.numBytes){var s=new TextDecoder;return new q(s.decode(new Uint8Array(c)))}var f=new DataView(c),h=null!=(a=this.bigEndian)?a:(m=new ArrayBuffer(2),new DataView(m).setInt16(0,256,!1),256===new Int16Array(m)[0]);if(""===this.endianness){var l=(this.numBytes>2?f.getUint32:f.getUint16).bind(f),v=65279===l(0);(v||65279===l(0,!0))&&(h=v,f=new DataView(c,this.numBytes))}var m,p=function(t,n,r){var e={1:t.getUint8.bind(t),2:t.getUint16.bind(t),4:t.getUint32.bind(t)}[n];if(null==e)throw Error();for(var i=[],o=0;o<t.byteLength;o+=n)i.push(e(o,!r));return i}(f,this.numBytes,h);return new q(String.fromCodePoint.apply(String,p))},r.integerCodec=function(t,n,r){At(n,r,1);var e="signed"===this.scheme,i=Ft(n,r.map(function(n){return t.strict(n)}),[U,V])[0];if(i instanceof U){var o=i.value,u=o<0;if(u&&!e)throw Error("음수는 부호 없는 정수 형식으로 변환할 수 없습니다.");if(!function(t,n,r){var e=2n<<8n*n;return r?-e/2n<=t&&t<e/2n:0n<=t&&t<e}(o,BigInt(this.numBytes),e))throw Error(this.numBytes+"바이트로 표현할 수 없는 정수를 받았습니다.");u&&(o=~o);var a=function(t,n){if(void 0===n&&(n=10n),t<0n)throw Error("Cannot convert a negative integer into array form.");for(var r=BigInt(n),e=[];t>0n;)e.push(t%r),t/=r;return e.reverse()}(o,256n).map(Number),c=new ArrayBuffer(this.numBytes),s=new Uint8Array(c);return s.set(a,this.numBytes-a.length),u&&s.forEach(function(t,n){return s[n]=~t}),this.bigEndian||s.reverse(),new V(c)}var f=i.value.slice(0),h=new Uint8Array(f);this.bigEndian||h.reverse();var l=e&&128&h[0];l&&h.forEach(function(t,n){return h[n]=~t});var v=w(Array.from(h),256);return l&&(v=~v),new U(v)},r.floatingPointCodec=function(t,n,r){throw EvalError("Not yet implemented")},n}(z),nn={"ㅂ":function(t,n,r){At(n,r,[2,3]);var e=r.map(function(n){return t.strict(n)});return new tn(n,e[0],e[1],e.length>2?e[2]:void 0)}};function rn(t){return function(n){return new t(n)}}function en(t,n,r,e){return function(i,o,u){At(o,u,n);var a=Ft(o,u.map(function(t){return i.strict(t)}),e).map(function(t){return t.value});return r(t.apply(void 0,a))}}function on(t){return function(n,r,e){At(r,e,1);var i=Ft(r,[n.strict(e[0])],X);if(jt(i,Q)){var o=Math[t](Number(i[0].value));if(!isNaN(o))return new T(o)}return new C(p(i[0].value)[t]())}}function un(t){return function(n,r,e){At(r,e,1);var i=Ft(r,[n.strict(e[0])],Q)[0];if(i instanceof U)return i;var o=BigInt(t(i.value));return new U(o)}}var an=on("atan"),cn=en(function(t,n){return Math.atan2(Number(t),Number(n))},2,rn(T),Q),sn=[Qt,nn,{"ㅅ":{"ㅂ":Math.PI,"ㅈ":Math.E,"ㅁ":Infinity,"ㄴ":NaN,"ㄱ":en(function(t,n){return M(t,n)},2,rn(K),X),"ㄴㄴ":en(function(t){return"bigint"!=typeof t&&(t instanceof m?t.isNaN():isNaN(t))},1,rn(K),X),"ㅁㄴ":en(d,1,rn(K),X),"ㅈㄷ":en(x,1,St,X),"ㄹㄱ":on("log"),"ㅅㄴ":on("sin"),"ㄴㅅ":on("asin"),"ㄱㅅ":on("cos"),"ㅅㄱ":on("acos"),"ㄷㄴ":on("tan"),"ㄴㄷ":function(t,n,r){return 2===r.length?cn(t,n,r):an(t,n,r)},"ㅂㄹ":{"ㄱ":un(Math.trunc),"ㄴ":un(Math.floor),"ㄷ":un(function(t){var n=Math.round(t);return t%1!=.5&&t%1!=-.5||n%2!=1&&n%2!=-1||n--,n}),"ㄹ":un(Math.ceil),"ㅁ":un(function(t){return t>0?Math.ceil(t):Math.floor(t)})}}}],fn={},hn=new Y({});function ln(t,n){n=t.loadUtils.normalizePath(n);var r=fn[n];if(r)return r;var e=ht(n,t.loadUtils.load(n));if(1!==e.length)throw new dt(e[0].metadata,"모듈에는 표현식이 하나만 있어야 하는데 "+e.length+"개가 있습니다.");var i=new L([],[]);return r=new J(e[0],i,null),fn[n]=r,r}function vn(t,n,r){var e="정수 리터럴열 "+r.map(st).join(" ")+"에 맞는 모듈을 찾지 못했습니다.";if(5n===r[0]){for(var i,o=hn,u=s(r.slice(1));!(i=u()).done;){var a=i.value;if(!(o instanceof Y))throw new gt(n,e);o=o.value[a.toString()]}return o}var c=mn(t,n,r,".");if(!c)throw new gt(n,e);return ln(t,c)}function mn(t,n,r,e){if(0===r.length)return t.loadUtils.isFile(e)?e:null;var i=r[0],o=r.slice(1),u=t.loadUtils.listdir(e).map(function(r){if(!function(t,n){t=at(t).join(" ").trim();try{return ct(t)===n}catch(t){return!1}}(r,i))return null;var u=t.loadUtils.joinPath(e,r);return mn(t,n,o,u)}).filter(function(t){return t});if(u.length>1)throw new bt(n,e+"에 정수 리터럴열 "+r+"에 맞는 모듈이 "+u.length+"개 있어 모호합니다.");return u.length?u[0]:null}function pn(t,n){return"function"==typeof t?new H(t,n.join(" ")):"number"==typeof t?new T(t):wn(t,n)}function wn(t,n){var r={};for(var e in t)r[ct(e).toString()]=pn(t[e],n.concat([e]));return new Y(r)}sn.forEach(function(t){var n=wn(t,["ㅂ"]);Object.assign(hn.value,n.value)});var dn={"ㅂ":function(t,n,r){if(_t(n,r,1),r.every(Mt))return vn(t,n,r.map(function(t){return t.expr.value}));At(n,r,1);var e=Ft(n,[t.strict(r[0])],[q]);return ln(t,e[0].str)}},yn=/*#__PURE__*/n().mark(gn);function gn(t,r,e,i){var o,u,a,c,s,f,h,l;return n().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(o=r<0?r+t.length:r,u=e<0?e+t.length:e,!(i>0)){n.next=14;break}a=Math.max(0,o),c=Math.min(u,t.length),s=a;case 6:if(!(s<c)){n.next=12;break}return n.next=9,t[s];case 9:s+=i,n.next=6;break;case 12:n.next=23;break;case 14:f=Math.min(o,t.length-1),h=Math.max(-1,u),l=f;case 17:if(!(l>h)){n.next=23;break}return n.next=20,t[l];case 20:l+=i,n.next=17;break;case 23:case"end":return n.stop()}},yn)}var bn=r({},Bt,Tt,Ct,Yt,zt,$t,dn,{"ㅈㄷ":function(t,n,r){At(n,r,1);var e=Ft(n,r.map(function(n){return t.strict(n)}),[].concat(tt,[$]))[0];return new U(e instanceof V?BigInt(e.value.byteLength):BigInt(e.value.length))},"ㅂㅈ":function(t,n,r){At(n,r,[2,3,4]);var e,i=r.map(function(n){return t.strict(n)}),o=Ft(n,[i[0]],tt)[0],u=Ft(n,i.slice(1),[U]).map(function(t){return Number(t.value)}),a=kt(n,u,3,[(e=o.value,"length"in e?e.length:e.byteLength),1]),c=a[0],s=a[1],f=a[2];if(0===f)throw new dt(n,"0은 ㅂㅈ 함수의 네 번째 인수로 적합하지 않습니다.");if(o instanceof Z){var h=gn(o.value,c,s,f);return new Z(Array.from(h))}if(o instanceof q){var l=gn(o.value,c,s,f);return new q(Array.from(l).join(""))}var v=gn(Array.from(new Uint8Array(o.value)),c,s,f);return new V(new Uint8Array(v).buffer)},"ㅁㄷ":function(t,n,r){At(n,r,2);var e=Ft(n,[t.strict(r[0])],[Z])[0],i=t.procFunctional(n,r[1]);return new Z(e.value.map(function(r){return i(t,n,[r])}))},"ㅅㅂ":function(t,n,r){At(n,r,2);var e=Ft(n,[t.strict(r[0])],[Z])[0],i=t.procFunctional(n,r[1]),o=e.value.map(function(r){return t.strict(i(t,n,[r]))}),u=Ft(n,o,[K]).map(xt);return new Z(e.value.filter(function(t,n){return u[n]}))},"ㅅㄹ":function(t,n,r){At(n,r,[2,3]);var e=null;3===r.length&&(e=r[1],r=[r[0],r[2]]);var i=t.strict(r[0])instanceof Z;function o(t){return i?t.slice().reverse():t}r=o(r);var u=t.procFunctional(n,r[0]),a=o(Ft(n,[t.strict(r[1])],[Z])[0].value);return null==e&&(e=a[0],a=a.slice(1)),a.reduce(function(r,e){var i=o([r,e]);return u(t,n,i)},e)}},{"ㅂㄹ":function(t,n,r){At(n,r,[1,2]);var e=Ft(n,r.map(function(n){return t.strict(n)}),[q,V]);if(e[0]instanceof q){var i=Ft(n,e,[q]),o=i[0].str.split(i.length>1?i[1].str:"");return new Z(o.map(function(t){return new q(t)}))}var u=Ft(n,e,[V]),a=String.fromCharCode.apply(String,new Uint8Array(u[0].value)),c=u.length>1?String.fromCharCode.apply(String,new Uint8Array(u[1].value)):"",s=a.split(c).map(function(t){return new V(new Uint8Array(t.split("").map(function(t){return t.charCodeAt(0)})).buffer)});return new Z(s)},"ㄱㅁ":function(t,n,r){At(n,r,[1,2]);var e=Ft(n,[t.strict(r[0])],[Z]),i=Ft(n,e[0].value.map(function(n){return t.strict(n)}),[q,V]);if(i[0]instanceof q){var o=Ft(n,i,[q]),u=Ft(n,[r.length>1?t.strict(r[1]):new q("")],[q])[0];return new q(o.map(function(t){return t.str}).join(u.str))}var a=Ft(n,i,[V]),c=Ft(n,[r.length>1?t.strict(r[1]):new V(new ArrayBuffer(0))],[V])[0];if(0===a.length)return new V(new ArrayBuffer(0));for(var f,h=[a[0].value],l=s(a.slice(1));!(f=l()).done;){var v=f.value;h.push(c.value),h.push(v.value)}return new V(It(h))}}),Nn=/*#__PURE__*/function(){function t(t){this.loadUtils=void 0,this.loadUtils=t}var n=t.prototype;return n.strict=function(t){if(t instanceof J){if(t.cache){if(t.cache instanceof k)throw t.cache;return t.cache}try{return t.cache=this.strict(xn(this,t.expr,t.env)),t.cache}catch(n){throw n instanceof k&&(t.cache=n),n}}return t},n.procFunctional=function(t,n,r){if(Mt(n))return function(t,n){var r=st(n),e=bn[r];if(e)return e;throw new gt(t,r+"이라는 이름의 기본 제공 함수를 찾지 못했습니다.")}(t,Number(n.expr.value));var e=r?nt:[z],i=Ft(t,[this.strict(n)],e)[0];return i instanceof z?i.execute.bind(i):i instanceof K?function(t,n,r){return At(n,r,2),r[i.value?0:1]}:i instanceof Y?function(t,n,r){At(n,r,1);var e=t.strict(r[0]).asKey(t),o=i.value[e];if(o)return o;throw new gt(n,"사전에 다음 표제가 없습니다: "+e)}:i instanceof C?function(t,n,r){At(n,r,1);var e=Ft(n,[t.strict(r[0])],[U])[0];if(0n===e.value||1n===e.value)return new T(i.value.toVector()[Number(e.value)]);throw new dt(n,"복소수 객체의 "+e.value+"번째 요소를 접근하려고 했습니다.")}:function(t,n,r){At(n,r,1);var e=Ft(n,[t.strict(r[0])],[U]),o=Number(e[0].value);try{return i instanceof V?new V(function(t,n){var r=n<0?n+t.byteLength:n;if(r<0||r>=t.byteLength)throw Error("길이 "+t.byteLength+"의 바이트열의 "+n+"번째 요소를 요청했습니다.");return t.slice(r,r+1)}(i.value,o)):i instanceof q?new q(Mn(i.value,o)):Mn(i.value,o)}catch(t){if(t instanceof Error)throw new Nt(n,t.message);throw t}}},t}();function Mn(t,n){var r=n<0?n+t.length:n;if(r<0||r>=t.length)throw Error("길이 "+t.length+"의 객체의 "+n+"번째 요소를 요청했습니다.");return t[r]}function xn(t,n,r){if(n instanceof j)return new U(n.value);if(n instanceof O){var e=Mn(r.funs,-n.rel-1);if(null==e)throw new Nt(n.metadata,"함수 참조의 범위를 벗어났습니다.");return e}if(n instanceof F){if(r.funs.length!==r.args.length)throw Error("Assertion Error: Environment has "+r.funs.length+" funs and "+r.args.length+" args.");var i=Mn(r.args,-n.relF-1);if(null==i)throw new Nt(n.metadata,"존재하지 않는 함수에 대한 인수 참조를 시도했습니다.");var o=t.strict(xn(t,n.relA,r)),u=Ft(n.metadata,[o],[U])[0].value;if(u<0||u>i.length)throw new Nt(n.metadata,u+"번째 인수를 참조하는데 "+i.length+"개의 인수만 받았습니다.");return i[Number(u)]}if(n instanceof A){var a=r.funs.slice(),c=new L(a,r.args),s=new W(n.body,c);return c.funs.push(s),s}if(n instanceof _){var f=new J(n.fun,r,null),h=n.argv.map(function(t){return new J(t,r,null)});return t.procFunctional(n.metadata,f,!0)(t,n.metadata,h)}throw Error("Unexpected expression: "+n)}function In(t,n,r){if(!t.s){if(r instanceof En){if(!r.s)return void(r.o=In.bind(null,t,n));1&n&&(n=r.s),r=r.v}if(r&&r.then)return void r.then(In.bind(null,t,n),In.bind(null,t,2));t.s=n,t.v=r;const e=t.o;e&&e(t)}}var En=/*#__PURE__*/function(){function t(){}return t.prototype.then=function(n,r){var e=new t,i=this.s;if(i){var o=1&i?n:r;if(o){try{In(e,1,o(this.v))}catch(t){In(e,2,t)}return e}return this}return this.o=function(t){try{var i=t.v;1&t.s?In(e,1,n?n(i):i):r?In(e,1,r(i)):In(e,2,i)}catch(t){In(e,2,t)}},e},t}();function Pn(t){return t instanceof En&&1&t.s}var jn=function t(n,r,e,i){try{var o,u=function(t){var e;if(o)return t;function i(t){var i;if(e)return t;function o(t){var e;if(i)return t;function o(t){return e?t:n.format(r)}var u=function(){if(n instanceof $)return Promise.resolve(Promise.all(n.value.map(a))).then(function(t){var n=t.join(", ");return e=1,"<예외: ["+n+"]>"})}();return u&&u.then?u.then(o):o(u)}var u=function(){if(n instanceof Y){var t=n.value,r=n.keys();return Promise.resolve(Promise.all(r.map(function(n){try{return Promise.resolve(a(t[n])).then(function(t){return n+": "+t})}catch(t){return Promise.reject(t)}}))).then(function(t){var n="{"+t.join(", ")+"}";return i=1,n})}}();return u&&u.then?u.then(o):o(u)}var u=function(){if(n instanceof Z)return Promise.resolve(Promise.all(n.value.map(a))).then(function(t){var n="["+t.join(", ")+"]";return e=1,n})}();return u&&u.then?u.then(i):i(u)},a=function(n){return t(n,r,e,i)};n=r.strict(n);var c=function(){if(n instanceof D)return Promise.resolve(On(n,e)).then(function(t){return n=t,Promise.resolve(a(n)).then(function(t){return o=1,i?"IO("+t+")":t})})}();return Promise.resolve(c&&c.then?c.then(u):u(c))}catch(t){return Promise.reject(t)}},On=function t(n,r){try{var e=function(n){return t(n,r)},i=function(t,n,r){for(var e;;){var i=t();if(Pn(i)&&(i=i.v),!i)return o;if(i.then){e=0;break}var o=r();if(o&&o.then){if(!Pn(o)){e=1;break}o=o.s}if(n){var u=n();if(u&&u.then&&!Pn(u)){e=2;break}}}var a=new En,c=In.bind(null,a,2);return(0===e?i.then(f):1===e?o.then(s):u.then(h)).then(void 0,c),a;function s(e){o=e;do{if(n&&(u=n())&&u.then&&!Pn(u))return void u.then(h).then(void 0,c);if(!(i=t())||Pn(i)&&!i.v)return void In(a,1,o);if(i.then)return void i.then(f).then(void 0,c);Pn(o=r())&&(o=o.v)}while(!o||!o.then);o.then(s).then(void 0,c)}function f(t){t?(o=r())&&o.then?o.then(s).then(void 0,c):s(o):In(a,1,o)}function h(){(i=t())?i.then?i.then(f).then(void 0,c):f(i):In(a,1,o)}}(function(){return n instanceof D},void 0,function(){return Promise.resolve(n.continuation(e,r)).then(function(t){n=t})});return Promise.resolve(i&&i.then?i.then(function(){return n}):n)}catch(t){return Promise.reject(t)}};t.main=function(t,n,r,e,i){void 0===i&&(i=!0);try{var o=ht(t,n),u=new Nn(e),a=new L([],[]),c=o.map(function(t){return xn(u,t,a)});return Promise.all(c.map(function(t){return jn(t,u,r,i)}))}catch(t){return Promise.reject(t)}},t.run=function(t,n,r,e,i){try{var o=function(){var t=Ft(u,[l],[U,R])[0];return t instanceof R?0:Number(t.value)},u=new P("<main>",0,0,0,""),a=r.map(function(t){return new q(t)}),c=ht(t,n);if(0===c.length)return Promise.resolve(0);if(c.length>1){var s=new $(c.map(function(t){return t.metadata}),"모듈에는 표현식이 하나만 있어야 하는데 "+c.length+"개가 있습니다.",[]);throw new k(s)}var f=new Nn(i),h=new L([],[]),l=f.strict(xn(f,c[0],h));if(l instanceof z){var v=f.procFunctional(u,l);l=f.strict(v(f,u,a))}var m=function(){if(l instanceof D)return Promise.resolve(On(l,e)).then(function(t){l=t})}();return Promise.resolve(m&&m.then?m.then(o):o())}catch(t){return Promise.reject(t)}}});
//# sourceMappingURL=main.umd.js.map
